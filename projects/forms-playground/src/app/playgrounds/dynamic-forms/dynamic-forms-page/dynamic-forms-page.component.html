<div class="action-buttons">
    <button (click)="formLoadingTrigger.next('user')" type="button">Load User Form</button>
    <button (click)="formLoadingTrigger.next('company')" type="button">Load Company Form</button>
  </div>
  <div *ngIf="formConfig$ | async as formConfig" class="dynamic-form-container">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <h3 class="form-heading">{{formConfig.description}}</h3>
      <div *ngFor="let control of formConfig.controls | keyvalue" class="form-field">
        <label [for]="control.key">{{control.value.label}}</label>
        <ng-container [ngSwitch]="control.value.controlType">
          <input *ngSwitchCase="'input'" [formControlName]="control.key" [value]="control.value.value" [id]="control.key" [type]="control.value.type">
          <ng-container *ngSwitchCase="'select'">
            <select [formControlName]="control.key" [id]="control.key" [value]="control.value.value">
              <option *ngFor="let option of control.value.options" [value]="option.value">{{option.label}}</option>
            </select>
          </ng-container>
        </ng-container>
      </div>
      <button [disabled]="form.invalid">Save</button>
    </form>
  </div>